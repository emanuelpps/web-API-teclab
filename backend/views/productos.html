<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Store - Alta de Productos</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../../assets/css/estilos.css"
    />
  </head>
  <body>
    <div class="header">
      <img src="../../assets/img/logo.webp" alt="Online Deli" class="logo" />
    </div>

    <div class="container">
      <h2>Alta de Productos</h2>
      <form id="form_productos" action="../productos.php" method="POST">
        <label for="nombre">Nombre del Producto</label><br />
        <input type="text" id="nombre" name="nombre" /><br /><br />

        <label for="precio">Precio</label><br />
        <input type="number" id="precio" name="precio" /><br /><br />

        <label for="categoria">Categoría</label><br />
        <select id="categoria" name="categoria" required>
          <option value="">Seleccione una categoría</option></select
        ><br /><br />

        <button type="reset">Cancelar</button>
        <button type="submit">Guardar</button>

        <h3>Emanuel Pages</h3>
      </form>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.7.1.js"
      integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
      crossorigin="anonymous"
    ></script>
    <script>
      // Cargar categorías al cargar la página
      $(document).ready(function () {
        $.ajax({
          url: "../../class/autoload.php",
          method: "POST",
          data: { action: "obtenerCategorias" },
          dataType: "json",
          success: function (categorias) {
            categorias.forEach(function (cat) {
              $("#categoria").append(
                `<option value="${cat.id}">${cat.nombre}</option>`
              );
            });
          },
          error: function () {
            alert("Error al cargar las categorías");
          },
        });
      });
    </script>
    <script
      src="../../assets/js/validaciones.js"
      type="text/javascript"
    ></script>
  </body>
</html>
